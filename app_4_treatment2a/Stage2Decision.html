{% extends "global/Page.html" %}
{% block title %}Your Final Decision{% endblock %}

{% block content %}
    <style>
        .decision-container { display: flex; justify-content: center; gap: 20px; margin-top: 30px; margin-bottom: 30px; }
        .decision-button { flex: 1; max-width: 250px; padding: 15px; border: 2px solid transparent; border-radius: 8px; text-align: center; cursor: pointer; transition: all 0.2s ease-in-out; }
        .decision-button:hover { transform: translateY(-3px); box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .decision-button.selected { border-color: #000; transform: translateY(-3px); box-shadow: 0 6px 12px rgba(0,0,0,0.2); }
        .decision-button h5 { margin-top: 0; font-size: 1.3em; }
        .decision-button .cost { font-weight: bold; }
        .decision-button .consequence { font-style: italic; font-size: 0.9em; margin-top: 10px; }
        #btn-sabotage { background-color: #f8d7da; border-color: #f5c6cb; color: #721c24; }
        #btn-neutral { background-color: #e2e3e5; border-color: #d6d8db; color: #383d41; }
        #btn-help { background-color: #d4edda; border-color: #c3e6cb; color: #155724; }
        input[type="radio"] { display: none; }
    </style>

    <h4>Your Legacy</h4>
    <p>You have been removed as Representative. You now have one final, anonymous decision to make.</p>

    <hr>

    <form>
        <div class="decision-container">
            <label id="btn-sabotage" class="decision-button">
                <input type="radio" name="stage2_decision" value="1" required>
                <h5>Sabotage</h5>
                <p class="cost">Cost to you: {{ C.STAGE_2_COST }} points</p>
            </label>
            <label id="btn-neutral" class="decision-button">
                <input type="radio" name="stage2_decision" value="0" required>
                <h5>Remain Neutral</h5>
                <p class="cost">Cost to you: 0 points</p>
            </label>
            <label id="btn-help" class="decision-button">
                <input type="radio" name="stage2_decision" value="2" required>
                <h5>Help</h5>
                <p class="cost">Cost to you: {{ C.STAGE_2_COST }} points</p>
            </label>
        </div>
        {% next_button %}
    </form>
{% endblock %}

{% block scripts %}
<script>
    const radios = document.querySelectorAll('input[type="radio"]');
    radios.forEach(radio => {
        radio.addEventListener('change', function() {
            document.querySelectorAll('.decision-button').forEach(btn => btn.classList.remove('selected'));
            if (this.checked) { this.parentElement.classList.add('selected'); }
        });
    });
</script>
{% endblock %}